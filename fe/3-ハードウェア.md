# ハードウェア

## 3-01 コンピュータの5大装置

コンピュータは、制御装置、演算装置、記憶装置、入力装置、出力装置の5つの装置から構成される。このうち、制御・演算の二つをあわせて中央処理装置（CPU)と呼ぶ。

* CPU
  * 制御装置：記憶装置からプログラムの命令を取り出して解読し、それぞれの装置に指示を与える
  * 演算装置：四則演算や比較判断などデータの処理や加工を行う
* 記憶装置：データやプログラムを記憶する
* 入力装置：コンピュータの外部からプログラムやデータを読み込む
* 出力装置：コンピュータの内部で処理されたデータを外部へ書き出す

5大装置ときたら、**制御装置、演算装置、記憶装置、入力装置、出力装置**


## 3-02 CPU

CPUは制御装置と演算装置の二つで構成される。  

* 制御装置：記憶装置からプログラムの命令を取り出して解読し、それぞれの装置に指示を与える
* 演算装置：四則演算や比較判断などデータの処理や加工を行う。ALU:Arithmetic and Logic Unit)

**レジスタ**  
CPUの中には、レジスタという高速な記憶装置が搭載されている。

* 命令レジスタ  
  主記憶から取り出された命令を格納する
* 命令アドレスレジスタ  
  実行すべき命令のアドレスを保持する。プログラムカウンタともいう。
* インデックスレジスタ  
  アドレス指定に用いる。指標レジスタともいう。
* ベースレジスタ  
  アドレス指定に用いる。基底レジスタともいう。
* アキュムレータ
  被演算数と演算結果を一時的に保持する。累算器ともいう。
* 汎用レジスタ  
  特定の機能に限定せず、多目的に使用される。

**クロック周波数**  
コンピュータ内部で一定間隔で電圧が規則的に「高」「低」を繰り返す信号が生成される。  
このサイクルを1秒間に何回繰り返されるかをクロック周波数という。  
単位として GHz(1秒間に10^9回)などが用いられる。  
クロック周波数が高いほど、命令実行速度は向上し、処理速度も向上する。


## 3-03 アドレス指定

**命令語**  
命令語は、命令部とアドレス部（オペランド部）で構成される。  
命令の種類によっては、アドレスがないものや、複数あるものもある。  

**命令実行サイクル**  
CPUは主記憶（メインメモリ）に格納されている命令を読みだして解読し、他の装置に指示を出す制御装置と、データに対する四則演算や論理演算などを行う演算装置からなる。  
命令の読み出しから実行終了までの流れは以下のようになる。

1. 命令フェッチ（命令取り出し）  
  命令アドレスレジスタで示されたアドレスの命令が、命令レジスタに取り出される。

2. 命令の解読  
  解読器（デコーダ）により解読され、演算命令であれば演算装置に指示を出す。  

3. 実行アドレス計算  
  命令のアドレス部はアドレスレジスタに送られる。
  アドレスレジスタは、実行に必要なデータが入っているアドレスや、実行結果を格納するアドレスを計算して、主記憶装置に指示する。

4. オペランド読み出し  
  演算の対象となるアドレスのデータが演算装置に送られる。

5. 命令の実行  
  演算装置で計算が実行される。

6. 演算結果格納  
  計算結果が、再び主記憶に格納される。

命令サイクル ： 命令フェッチ→命令の解読→実行アドレス計算→オペランド読み出し→命令の実行→結果の格納

**アドレス指定**  
アドレス指定は、アドレス修飾ともいう。

* 即値アドレス指定  
  命令のアドレス部にデータそのものを格納している。

* 直接アドレス指定（絶対アドレス指定）  
  命令のアドレス部の値を実行アドレスとする。

* 間接アドレス指定  
  命令のアドレス部に実行アドレスを格納している。間接参照。

* 相対アドレス  
  命令のアドレス部の値と命令アドレスレジスタ（プログラムカウンタ）の値を加算し、実行アドレスとする。

* インデックスアドレス指定（指標アドレス指定）  
  命令のアドレス部の値とインデックスレジスタの値を加算し、実行アドレスとする。

* ベースアドレス指定（基底アドレス指定）  
  ベースアドレス指定は、命令のアドレス部の値とベースレジスタの値を加算し、実行アドレスとする。

## 3-04 CPUの高速化

**逐次制御方式**  
命令実行を、実行サイクル多いんいで1命令ずつ順番に繰り返す方式

**パイプライン処理**  
命令実行サイクルの各段階（ステージ）を並行して実行することで、処理効率を向上させる方式。  
パイプライン処理では、分岐命令が合わられるとそれまで先読みしていた命令を破棄し、新たに分岐先の命令を実行しなければならない。処理の順番が乱れることをパイプラインハザードという。  
分岐命令に対処するためには、分岐するかどうかを予測して、実行される確率の高いほうを先読みするなどの分岐予測という技術が使われる。

**スーパーパイプライン**  
各ステージをさらに細かく分割することで、パイプラインの動作の効率を向上させる方式。

**スーパースカラ**  
複数のパイプラインを設けることで、複数の命令を同時に実行する方式。

**マルチコアプロセッサ**  
1つのCPUに複数のコアを備えたもの。  
シングルコアに比べ、消費電力を抑えながら処理速度の向上を図ることができる。  
コアが二つのものをデュアルコア、4つのものをクアッドコアといい、それ以上のものも存在する。  

## 3-05 記憶素子

## 3-06 磁気ディスク装置

## 3-07 補助記憶装置

## 3-08 入力装置

## 3-09 出力装置

## 3-10 入出力インタフェース