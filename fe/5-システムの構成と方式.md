# システムの構成と方式

## 5-01 システムの処理形態

**バッチ処理**  
一定期間、あるいは一定量のデータをためてから一括して処理をする方式。  
給与計算システムなど。

**オンライントランザクション処理**  
データの発生と同時に処理をする。高い信頼性と即時性が要求される。  
座席予約システムや預金システムなど。 

**リアルタイム制御処理**  
モニタやセンサなどを使って常に状態を監視し、厳しい即時性を要求する処理。  
発電所の制御や工業用ロボットの制御など。 

### 集中処理と分散処理

**集中処理**  
一台の汎用コンピュータに複数台の端末を接続し、汎用コンピュータに集中して処理させる処理形態。  

**分散処理**  
複数台のコンピュータを接続し、分散して処理させる処理形態。

### 組み込み  
パソコンなどの汎用的なシステムとは異なり、ある特定の機能を実現するために専用化されたハードウェアとそれを制御するソフトウェア。

## 5-02 クライアントサーバシステム

* クライアント：サービスを要求する
* サーバ：サービスを手今日する

* ファイルサーバ：ファイルを共有する機能を持つ
* プリントサーバ：プリンタを共有する機能を持つ
* データベースサーバ：データベースを一元管理し、クライアントからの問い合わせに対して検索や登録、更新、削除などを行う
* コミュニケーションサーバ：通信の制御を行う
* メールサーバ：メールの送受信を行う
* WEBサーバ：ホームページのデータを置いておく

**3層クライアントサーバシステム**  

クライアント（プレゼンテーション層）  
↓  
サーバ、ファンクション層  
↓  
サーバ、データベース層  

**ストアドプロシージャ**  

データベースアクセスを行う際に、クライアントとサーバ間の通信負荷が問題になる。  
そこで、利用頻度の高い命令群をあらかじめサーバ上に用意しておくことで、ネットワーク負荷を軽減する仕組み。

**シンクライアントシステム**  
アプリケーションをサーバ上で動かすため、クライアントは入力と表示などの必要最低限の機能しか持たず、TCOを削減することができる。

## 5-03 高信頼化システム

**デュプレックスシステム**  
2系列のシステムで構成され、一方は現用系（主系）としてオンライン処理を行い、もう一方は待機系（従系）として故障に備える。  
障害発生時に切り替える。  

* コールドスタンバイ  
  障害が発生してからオンライン処理プログラムを起動して組み込み

* ホットスタンバイ  
  あらかじめプログラムを起動しておく

**デュアルシステム**  
2系列用意しておき、障害が発生したら切り離す

**負荷分散**  
マルチプロセッサシステムでは、複数のCPUを多重化することで、一連の処理を分散させ同時にかつ独立に処理を進めて全体の処理を高速化する

密結合マルチプロセッサシステムでは、複数のCPUが主記憶をっ共有する

疎結合マルチプロセッサシステムでは、CPUごとに独立した主記憶を持つ

## 5-04 RAIDと高信頼化システム

**RAID**  
Radundant Arrays of Inexpensive Disks  
複数台の磁気ディスク装置を使い、アクセスの高速化や高信頼性を実現する技術、ディスクアレイとも呼ばれる。  

| 名称 | 概要 |
| - | - |
| RAID0 | ストライピング。データをブロック単位に複数の磁気ディスクに分散して記録する。アクセスを並列化し高速化。 |
| RAID1 | ミラーリング。同じデータを同時に別々の磁気ディスクに書き込み、高信頼性。 |
| RAID3 | データをバイト単位で素トライピングし、1台をエラー訂正用のパリティ情報記録用として固定する。高信頼性 |
| RAID5 | RAID3のパリティ情報記録用ディスクを固定せず、データと同様にパリティ情報もブロック単位に分散して、特定の磁気ディスクに集中しないようにする。高信頼性と高速化。 |

**高信頼化技術**  

* フォールトアボイダンス  
  障害を起きないようにする技術

* フォールトトレランス  
  障害が起きてもシステムを動かし続けるための対策
  * フェイルセーフ  
    システムの一部が故障しても、全体に影響が広がらないようにする考え方
  * フェイルソフト  
    システムの一部が故障したとき、機能を低下させてもシステムの運転を継続するという考え方


## 5-05 システムの性能評価

**MIPS(million Instruction Per Second)**  
1秒間に実行される命令の回数を百万単位で表現したもの。

**FLOPS(Floating Operations Per Second)**  
1秒間に実行される浮動小数点演算の回数。

**ベンチマーク**  
コンピュータシステムの使用目的に合うプログラムを実行させ、そのプログラムの実行時間を相対比較することでシステムの性能評価を行う。

| 名称 | 概要 |
|-|-|
| SPECint | 整数演算の性能を測定する |
| SEPCfp | 浮動小数点演算の性能を測定する | 
| TPCベンチマークテスト | オンライントランザクション処理システムを対象としたベンチマーク |

* 命令ミックス  
  複数の命令を混ぜて、加重平均を求め、MIPSで表現することでより正確な指標を出す
  * ギブソンミックス：科学計算で使う  
  * コマーシャルミックス：会計・事務などで使う

## 5-07 稼働率

**MTBF**  
Mean Time Between Fialuer  
システムが故障してから次に故障するまでの平均時間
平均故障時間

**MTTR**  
Mean Time To Repair  
システムが故障してから復旧に要する時間  
平均修理時間

**稼働率 = MTBF/(MTBF+MTTR)**

### 直列システムと並列システムの稼働率  

* 直列システムの稼働率 = a * b
* 並列システムの稼働率 = 1-(1-a)(1-b)

**バスタブ曲線**  
1:初期故障期間、初期導入時の故障率の高さ
2:偶発故障期間、安定化同期中に偶発的に発生する故障
3:摩耗故障期間、時間がたつにつれ、摩耗などにより故障率があがっていく
